<% include ./partials/header %>

<div class="h-100 text-center">
    <img class="img-fluid" src="../../assets/site_imgs/site_headers/compassheader.png" alt="Card image cap">
    <div class="container">
        <h1 class="">Your Journey Begins Here</h1>
        <img src="../../assets/site_imgs/site_logos/logo_hi.png" class="img-fluid w-75 m-3" alt="Responsive image">
        <p class="sr-only">Welcome to Sunflame Mountain</p>
        <p class="textboxes lead border border-dark p-1">With your chosen founder at your side, you set forth into the realm of Sunflame Mountain. Now you must choose your home region. Where would you like to begin your herd? Each region is full of wonders... and dangers, too. Choose wisely. You can migrate to a new region later, but be warned: the journey isn't an easy one.</p>
    </div>
    <div class="regionMap d-flex flex-column justify-content-center text-center">
        <div class="row">
            <% Regions.forEach((region)=>{ %>
			<div class="col-12 col-sm-6 col-md-4 mb-3 align-items-stretch">
                <div class="regionCard card align-content-center">
                    <a href="" class="btn btn-success btn-md" data-bs-toggle="modal" data-bs-target="#regionModal" data-bs-title="<%= region.name %>">View</a>
                    <img class="regionImg card-img-top" src="../../assets/background_imgs/map_imgs/<%= region.name.toLowerCase() %>_map.png" id="<%= region.name %>" alt="<%= region.name %>">
                </div>
            </div>
			<%  }) %>
        </div>
    </div>
</div>

<div class="modal fade" id="regionModal" tabindex="-1" aria-labelledby="regionModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content regionmodal-content">
      <div class="modal-header">
        <h2 class="modal-title display-5" id="regionModalLabel">Oops, you're not supposed to see this.</h2>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
		<img src="" id="modal-image" class="regionmodal-image img-fluid"> 
        <p class="text-center regiontext" id="modal-text"></p> 
		<form action="/region?_method=PUT" method="POST">
			<button type="button" class="btn btn-danger w-50 border border-2 border-light" data-bs-dismiss="modal">Go back</button>
        	<button type="submit" class="btn btn-success w-50 border border-2 border-light" id="chooseThis" name="selectedName" value="">Select</button>
        </form>  
      </div>
      <div class="modal-footer">
      </div>
    </div>
  </div>
</div>
<script>
	var Regions = '<%- JSON.stringify(Regions) %>';
	var parsedRegions = JSON.parse(Regions);
</script>
<script src="../../scripts/regionModal.js"></script>
<% include ./partials/footer %>